<!-- DELEGATE MODEL -->
<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body p-5">
                <article 
                    class="position-relative w-100"
                    style="max-width: 200rem;border-radius: 0.5rem;"
                >
                    <header class="modal-header">
                        <h2 class="mb-3" id="printDelegateBadgeLabel">Print Badge</h2>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </header>
                    <span class="delegate_id d-none"></span>
                    <label class="d-flex flex-column justify-content-between align-items-center" style="margin-bottom: 3rem;">
                        <span style="letter-spacing: 0.25em;font-weight: 500;padding: 0 0.75rem">Access Level</span>
                        <select id="select-badge-template" style="padding: 0.35rem 0.625rem;border-width: 1px;border-radius: 0.5rem;text-transform: none;">
                            <option value="">(Please select an option...)</option>
                        </select>
                    </label>
                    <section
                        class="position-relative d-flex justify-content-between align-items-center" 
                        style="margin: 2rem 1.5rem;"
                    >
                        <div class="position-relative">
                            <img 
                                class="badge-image d-block mw-100" 
                                style="vertical-align: middle;width: 16rem;height: auto;" 
                                alt="badge background"
                            >
                            <!-- <img 
                                class="delegate-image d-block position-absolute start-50 mw-100 translate-middle-x" 
                                style="vertical-align: middle;width: 9rem;top: 2rem;" 
                                alt="delegate's picture"
                            > -->
                            <img 
                                class="delegate-image d-block mx-auto" 
                                style="width: 100px; height: 200px; object-fit: scale-down; position: relative; top: -400px;" 
                                width="100"
                                height="200"
                                alt="delegate's picture"
                            >
                        </div>
                        <figure class="position-absolute d-flex align-items-center" style="margin-top: -9rem;">
                            <svg 
                                width="128" 
                                height="128" 
                                viewBox="0 0 264 264"
                                xmlns="http://www.w3.org/2000/svg" 
                                xmlns:xlink="http://www.w3.org/1999/xlink" 
                                xmlns:ev="http://www.w3.org/2001/xml-events">
                                <rect x="0" y="0" width="64" height="64" fill="#ffffff"/>
                                <defs>
                                <rect id="p" width="8" height="8"/>
                                </defs>
                                <g fill="#000000">
                                    <use xlink:href="#p" x="32" y="32"/>
                                    <use xlink:href="#p" x="32" y="40"/>
                                    <use xlink:href="#p" x="32" y="48"/>
                                    <use xlink:href="#p" x="32" y="56"/>
                                    <use xlink:href="#p" x="32" y="64"/>
                                    <use xlink:href="#p" x="32" y="72"/>
                                    <use xlink:href="#p" x="32" y="80"/>
                                    <use xlink:href="#p" x="32" y="112"/>
                                    <use xlink:href="#p" x="32" y="120"/>
                                    <use xlink:href="#p" x="32" y="176"/>
                                    <use xlink:href="#p" x="32" y="184"/>
                                    <use xlink:href="#p" x="32" y="192"/>
                                    <use xlink:href="#p" x="32" y="200"/>
                                    <use xlink:href="#p" x="32" y="208"/>
                                    <use xlink:href="#p" x="32" y="216"/>
                                    <use xlink:href="#p" x="32" y="224"/>
                                    <use xlink:href="#p" x="40" y="32"/>
                                    <use xlink:href="#p" x="40" y="80"/>
                                    <use xlink:href="#p" x="40" y="104"/>
                                    <use xlink:href="#p" x="40" y="112"/>
                                    <use xlink:href="#p" x="40" y="144"/>
                                    <use xlink:href="#p" x="40" y="152"/>
                                    <use xlink:href="#p" x="40" y="160"/>
                                    <use xlink:href="#p" x="40" y="176"/>
                                    <use xlink:href="#p" x="40" y="224"/>
                                    <use xlink:href="#p" x="48" y="32"/>
                                    <use xlink:href="#p" x="48" y="48"/>
                                    <use xlink:href="#p" x="48" y="56"/>
                                    <use xlink:href="#p" x="48" y="64"/>
                                    <use xlink:href="#p" x="48" y="80"/>
                                    <use xlink:href="#p" x="48" y="112"/>
                                    <use xlink:href="#p" x="48" y="120"/>
                                    <use xlink:href="#p" x="48" y="128"/>
                                    <use xlink:href="#p" x="48" y="136"/>
                                    <use xlink:href="#p" x="48" y="144"/>
                                    <use xlink:href="#p" x="48" y="160"/>
                                    <use xlink:href="#p" x="48" y="176"/>
                                    <use xlink:href="#p" x="48" y="192"/>
                                    <use xlink:href="#p" x="48" y="200"/>
                                    <use xlink:href="#p" x="48" y="208"/>
                                    <use xlink:href="#p" x="48" y="224"/>
                                    <use xlink:href="#p" x="56" y="32"/>
                                    <use xlink:href="#p" x="56" y="48"/>
                                    <use xlink:href="#p" x="56" y="56"/>
                                    <use xlink:href="#p" x="56" y="64"/>
                                    <use xlink:href="#p" x="56" y="80"/>
                                    <use xlink:href="#p" x="56" y="112"/>
                                    <use xlink:href="#p" x="56" y="128"/>
                                    <use xlink:href="#p" x="56" y="144"/>
                                    <use xlink:href="#p" x="56" y="152"/>
                                    <use xlink:href="#p" x="56" y="176"/>
                                    <use xlink:href="#p" x="56" y="192"/>
                                    <use xlink:href="#p" x="56" y="200"/>
                                    <use xlink:href="#p" x="56" y="208"/>
                                    <use xlink:href="#p" x="56" y="224"/>
                                    <use xlink:href="#p" x="64" y="32"/>
                                    <use xlink:href="#p" x="64" y="48"/>
                                    <use xlink:href="#p" x="64" y="56"/>
                                    <use xlink:href="#p" x="64" y="64"/>
                                    <use xlink:href="#p" x="64" y="80"/>
                                    <use xlink:href="#p" x="64" y="104"/>
                                    <use xlink:href="#p" x="64" y="120"/>
                                    <use xlink:href="#p" x="64" y="144"/>
                                    <use xlink:href="#p" x="64" y="152"/>
                                    <use xlink:href="#p" x="64" y="176"/>
                                    <use xlink:href="#p" x="64" y="192"/>
                                    <use xlink:href="#p" x="64" y="200"/>
                                    <use xlink:href="#p" x="64" y="208"/>
                                    <use xlink:href="#p" x="64" y="224"/>
                                    <use xlink:href="#p" x="72" y="32"/>
                                    <use xlink:href="#p" x="72" y="80"/>
                                    <use xlink:href="#p" x="72" y="96"/>
                                    <use xlink:href="#p" x="72" y="120"/>
                                    <use xlink:href="#p" x="72" y="128"/>
                                    <use xlink:href="#p" x="72" y="136"/>
                                    <use xlink:href="#p" x="72" y="160"/>
                                    <use xlink:href="#p" x="72" y="176"/>
                                    <use xlink:href="#p" x="72" y="224"/>
                                    <use xlink:href="#p" x="80" y="32"/>
                                    <use xlink:href="#p" x="80" y="40"/>
                                    <use xlink:href="#p" x="80" y="48"/>
                                    <use xlink:href="#p" x="80" y="56"/>
                                    <use xlink:href="#p" x="80" y="64"/>
                                    <use xlink:href="#p" x="80" y="72"/>
                                    <use xlink:href="#p" x="80" y="80"/>
                                    <use xlink:href="#p" x="80" y="96"/>
                                    <use xlink:href="#p" x="80" y="112"/>
                                    <use xlink:href="#p" x="80" y="128"/>
                                    <use xlink:href="#p" x="80" y="144"/>
                                    <use xlink:href="#p" x="80" y="160"/>
                                    <use xlink:href="#p" x="80" y="176"/>
                                    <use xlink:href="#p" x="80" y="184"/>
                                    <use xlink:href="#p" x="80" y="192"/>
                                    <use xlink:href="#p" x="80" y="200"/>
                                    <use xlink:href="#p" x="80" y="208"/>
                                    <use xlink:href="#p" x="80" y="216"/>
                                    <use xlink:href="#p" x="80" y="224"/>
                                    <use xlink:href="#p" x="88" y="120"/>
                                    <use xlink:href="#p" x="88" y="128"/>
                                    <use xlink:href="#p" x="88" y="136"/>
                                    <use xlink:href="#p" x="88" y="144"/>
                                    <use xlink:href="#p" x="88" y="152"/>
                                    <use xlink:href="#p" x="88" y="160"/>
                                    <use xlink:href="#p" x="96" y="32"/>
                                    <use xlink:href="#p" x="96" y="48"/>
                                    <use xlink:href="#p" x="96" y="64"/>
                                    <use xlink:href="#p" x="96" y="80"/>
                                    <use xlink:href="#p" x="96" y="88"/>
                                    <use xlink:href="#p" x="96" y="104"/>
                                    <use xlink:href="#p" x="96" y="120"/>
                                    <use xlink:href="#p" x="96" y="128"/>
                                    <use xlink:href="#p" x="96" y="152"/>
                                    <use xlink:href="#p" x="96" y="168"/>
                                    <use xlink:href="#p" x="96" y="184"/>
                                    <use xlink:href="#p" x="104" y="48"/>
                                    <use xlink:href="#p" x="104" y="56"/>
                                    <use xlink:href="#p" x="104" y="64"/>
                                    <use xlink:href="#p" x="104" y="72"/>
                                    <use xlink:href="#p" x="104" y="104"/>
                                    <use xlink:href="#p" x="104" y="112"/>
                                    <use xlink:href="#p" x="104" y="120"/>
                                    <use xlink:href="#p" x="104" y="136"/>
                                    <use xlink:href="#p" x="104" y="144"/>
                                    <use xlink:href="#p" x="104" y="160"/>
                                    <use xlink:href="#p" x="104" y="168"/>
                                    <use xlink:href="#p" x="104" y="176"/>
                                    <use xlink:href="#p" x="104" y="184"/>
                                    <use xlink:href="#p" x="104" y="200"/>
                                    <use xlink:href="#p" x="104" y="208"/>
                                    <use xlink:href="#p" x="104" y="224"/>
                                    <use xlink:href="#p" x="112" y="40"/>
                                    <use xlink:href="#p" x="112" y="48"/>
                                    <use xlink:href="#p" x="112" y="56"/>
                                    <use xlink:href="#p" x="112" y="64"/>
                                    <use xlink:href="#p" x="112" y="80"/>
                                    <use xlink:href="#p" x="112" y="88"/>
                                    <use xlink:href="#p" x="112" y="136"/>
                                    <use xlink:href="#p" x="112" y="144"/>
                                    <use xlink:href="#p" x="112" y="160"/>
                                    <use xlink:href="#p" x="112" y="168"/>
                                    <use xlink:href="#p" x="112" y="176"/>
                                    <use xlink:href="#p" x="112" y="184"/>
                                    <use xlink:href="#p" x="112" y="192"/>
                                    <use xlink:href="#p" x="112" y="208"/>
                                    <use xlink:href="#p" x="120" y="32"/>
                                    <use xlink:href="#p" x="120" y="40"/>
                                    <use xlink:href="#p" x="120" y="64"/>
                                    <use xlink:href="#p" x="120" y="72"/>
                                    <use xlink:href="#p" x="120" y="96"/>
                                    <use xlink:href="#p" x="120" y="112"/>
                                    <use xlink:href="#p" x="120" y="136"/>
                                    <use xlink:href="#p" x="120" y="144"/>
                                    <use xlink:href="#p" x="120" y="152"/>
                                    <use xlink:href="#p" x="120" y="168"/>
                                    <use xlink:href="#p" x="120" y="184"/>
                                    <use xlink:href="#p" x="120" y="192"/>
                                    <use xlink:href="#p" x="120" y="216"/>
                                    <use xlink:href="#p" x="128" y="32"/>
                                    <use xlink:href="#p" x="128" y="40"/>
                                    <use xlink:href="#p" x="128" y="48"/>
                                    <use xlink:href="#p" x="128" y="56"/>
                                    <use xlink:href="#p" x="128" y="80"/>
                                    <use xlink:href="#p" x="128" y="88"/>
                                    <use xlink:href="#p" x="128" y="104"/>
                                    <use xlink:href="#p" x="128" y="128"/>
                                    <use xlink:href="#p" x="128" y="136"/>
                                    <use xlink:href="#p" x="128" y="152"/>
                                    <use xlink:href="#p" x="128" y="184"/>
                                    <use xlink:href="#p" x="128" y="200"/>
                                    <use xlink:href="#p" x="128" y="224"/>
                                    <use xlink:href="#p" x="136" y="40"/>
                                    <use xlink:href="#p" x="136" y="56"/>
                                    <use xlink:href="#p" x="136" y="64"/>
                                    <use xlink:href="#p" x="136" y="96"/>
                                    <use xlink:href="#p" x="136" y="112"/>
                                    <use xlink:href="#p" x="136" y="120"/>
                                    <use xlink:href="#p" x="136" y="128"/>
                                    <use xlink:href="#p" x="136" y="136"/>
                                    <use xlink:href="#p" x="136" y="144"/>
                                    <use xlink:href="#p" x="136" y="152"/>
                                    <use xlink:href="#p" x="136" y="160"/>
                                    <use xlink:href="#p" x="136" y="168"/>
                                    <use xlink:href="#p" x="136" y="176"/>
                                    <use xlink:href="#p" x="136" y="192"/>
                                    <use xlink:href="#p" x="136" y="200"/>
                                    <use xlink:href="#p" x="136" y="224"/>
                                    <use xlink:href="#p" x="144" y="32"/>
                                    <use xlink:href="#p" x="144" y="40"/>
                                    <use xlink:href="#p" x="144" y="56"/>
                                    <use xlink:href="#p" x="144" y="64"/>
                                    <use xlink:href="#p" x="144" y="80"/>
                                    <use xlink:href="#p" x="144" y="96"/>
                                    <use xlink:href="#p" x="144" y="104"/>
                                    <use xlink:href="#p" x="144" y="136"/>
                                    <use xlink:href="#p" x="144" y="152"/>
                                    <use xlink:href="#p" x="144" y="160"/>
                                    <use xlink:href="#p" x="144" y="168"/>
                                    <use xlink:href="#p" x="144" y="176"/>
                                    <use xlink:href="#p" x="144" y="184"/>
                                    <use xlink:href="#p" x="144" y="208"/>
                                    <use xlink:href="#p" x="144" y="224"/>
                                    <use xlink:href="#p" x="152" y="32"/>
                                    <use xlink:href="#p" x="152" y="40"/>
                                    <use xlink:href="#p" x="152" y="56"/>
                                    <use xlink:href="#p" x="152" y="72"/>
                                    <use xlink:href="#p" x="152" y="88"/>
                                    <use xlink:href="#p" x="152" y="96"/>
                                    <use xlink:href="#p" x="152" y="104"/>
                                    <use xlink:href="#p" x="152" y="112"/>
                                    <use xlink:href="#p" x="152" y="120"/>
                                    <use xlink:href="#p" x="152" y="144"/>
                                    <use xlink:href="#p" x="152" y="160"/>
                                    <use xlink:href="#p" x="152" y="176"/>
                                    <use xlink:href="#p" x="152" y="184"/>
                                    <use xlink:href="#p" x="152" y="224"/>
                                    <use xlink:href="#p" x="160" y="40"/>
                                    <use xlink:href="#p" x="160" y="56"/>
                                    <use xlink:href="#p" x="160" y="64"/>
                                    <use xlink:href="#p" x="160" y="80"/>
                                    <use xlink:href="#p" x="160" y="88"/>
                                    <use xlink:href="#p" x="160" y="104"/>
                                    <use xlink:href="#p" x="160" y="112"/>
                                    <use xlink:href="#p" x="160" y="144"/>
                                    <use xlink:href="#p" x="160" y="152"/>
                                    <use xlink:href="#p" x="160" y="160"/>
                                    <use xlink:href="#p" x="160" y="168"/>
                                    <use xlink:href="#p" x="160" y="176"/>
                                    <use xlink:href="#p" x="160" y="184"/>
                                    <use xlink:href="#p" x="160" y="192"/>
                                    <use xlink:href="#p" x="160" y="208"/>
                                    <use xlink:href="#p" x="160" y="224"/>
                                    <use xlink:href="#p" x="168" y="112"/>
                                    <use xlink:href="#p" x="168" y="120"/>
                                    <use xlink:href="#p" x="168" y="144"/>
                                    <use xlink:href="#p" x="168" y="160"/>
                                    <use xlink:href="#p" x="168" y="192"/>
                                    <use xlink:href="#p" x="168" y="200"/>
                                    <use xlink:href="#p" x="168" y="216"/>
                                    <use xlink:href="#p" x="176" y="32"/>
                                    <use xlink:href="#p" x="176" y="40"/>
                                    <use xlink:href="#p" x="176" y="48"/>
                                    <use xlink:href="#p" x="176" y="56"/>
                                    <use xlink:href="#p" x="176" y="64"/>
                                    <use xlink:href="#p" x="176" y="72"/>
                                    <use xlink:href="#p" x="176" y="80"/>
                                    <use xlink:href="#p" x="176" y="96"/>
                                    <use xlink:href="#p" x="176" y="128"/>
                                    <use xlink:href="#p" x="176" y="144"/>
                                    <use xlink:href="#p" x="176" y="152"/>
                                    <use xlink:href="#p" x="176" y="160"/>
                                    <use xlink:href="#p" x="176" y="176"/>
                                    <use xlink:href="#p" x="176" y="192"/>
                                    <use xlink:href="#p" x="176" y="200"/>
                                    <use xlink:href="#p" x="176" y="216"/>
                                    <use xlink:href="#p" x="176" y="224"/>
                                    <use xlink:href="#p" x="184" y="32"/>
                                    <use xlink:href="#p" x="184" y="80"/>
                                    <use xlink:href="#p" x="184" y="104"/>
                                    <use xlink:href="#p" x="184" y="112"/>
                                    <use xlink:href="#p" x="184" y="128"/>
                                    <use xlink:href="#p" x="184" y="136"/>
                                    <use xlink:href="#p" x="184" y="160"/>
                                    <use xlink:href="#p" x="184" y="192"/>
                                    <use xlink:href="#p" x="184" y="224"/>
                                    <use xlink:href="#p" x="192" y="32"/>
                                    <use xlink:href="#p" x="192" y="48"/>
                                    <use xlink:href="#p" x="192" y="56"/>
                                    <use xlink:href="#p" x="192" y="64"/>
                                    <use xlink:href="#p" x="192" y="80"/>
                                    <use xlink:href="#p" x="192" y="96"/>
                                    <use xlink:href="#p" x="192" y="104"/>
                                    <use xlink:href="#p" x="192" y="112"/>
                                    <use xlink:href="#p" x="192" y="152"/>
                                    <use xlink:href="#p" x="192" y="160"/>
                                    <use xlink:href="#p" x="192" y="168"/>
                                    <use xlink:href="#p" x="192" y="176"/>
                                    <use xlink:href="#p" x="192" y="184"/>
                                    <use xlink:href="#p" x="192" y="192"/>
                                    <use xlink:href="#p" x="192" y="216"/>
                                    <use xlink:href="#p" x="192" y="224"/>
                                    <use xlink:href="#p" x="200" y="32"/>
                                    <use xlink:href="#p" x="200" y="48"/>
                                    <use xlink:href="#p" x="200" y="56"/>
                                    <use xlink:href="#p" x="200" y="64"/>
                                    <use xlink:href="#p" x="200" y="80"/>
                                    <use xlink:href="#p" x="200" y="120"/>
                                    <use xlink:href="#p" x="200" y="136"/>
                                    <use xlink:href="#p" x="200" y="144"/>
                                    <use xlink:href="#p" x="200" y="160"/>
                                    <use xlink:href="#p" x="200" y="176"/>
                                    <use xlink:href="#p" x="200" y="184"/>
                                    <use xlink:href="#p" x="200" y="216"/>
                                    <use xlink:href="#p" x="208" y="32"/>
                                    <use xlink:href="#p" x="208" y="48"/>
                                    <use xlink:href="#p" x="208" y="56"/>
                                    <use xlink:href="#p" x="208" y="64"/>
                                    <use xlink:href="#p" x="208" y="80"/>
                                    <use xlink:href="#p" x="208" y="96"/>
                                    <use xlink:href="#p" x="208" y="104"/>
                                    <use xlink:href="#p" x="208" y="112"/>
                                    <use xlink:href="#p" x="208" y="152"/>
                                    <use xlink:href="#p" x="208" y="160"/>
                                    <use xlink:href="#p" x="208" y="176"/>
                                    <use xlink:href="#p" x="208" y="192"/>
                                    <use xlink:href="#p" x="208" y="200"/>
                                    <use xlink:href="#p" x="216" y="32"/>
                                    <use xlink:href="#p" x="216" y="80"/>
                                    <use xlink:href="#p" x="216" y="104"/>
                                    <use xlink:href="#p" x="216" y="112"/>
                                    <use xlink:href="#p" x="216" y="120"/>
                                    <use xlink:href="#p" x="216" y="144"/>
                                    <use xlink:href="#p" x="216" y="160"/>
                                    <use xlink:href="#p" x="216" y="168"/>
                                    <use xlink:href="#p" x="216" y="192"/>
                                    <use xlink:href="#p" x="224" y="32"/>
                                    <use xlink:href="#p" x="224" y="40"/>
                                    <use xlink:href="#p" x="224" y="48"/>
                                    <use xlink:href="#p" x="224" y="56"/>
                                    <use xlink:href="#p" x="224" y="64"/>
                                    <use xlink:href="#p" x="224" y="72"/>
                                    <use xlink:href="#p" x="224" y="80"/>
                                    <use xlink:href="#p" x="224" y="96"/>
                                    <use xlink:href="#p" x="224" y="112"/>
                                    <use xlink:href="#p" x="224" y="120"/>
                                    <use xlink:href="#p" x="224" y="128"/>
                                    <use xlink:href="#p" x="224" y="144"/>
                                    <use xlink:href="#p" x="224" y="152"/>
                                    <use xlink:href="#p" x="224" y="160"/>
                                    <use xlink:href="#p" x="224" y="176"/>
                                    <use xlink:href="#p" x="224" y="184"/>
                                    <use xlink:href="#p" x="224" y="200"/>
                                    <use xlink:href="#p" x="224" y="208"/>
                                    <use xlink:href="#p" x="224" y="216"/>
                                    <use xlink:href="#p" x="224" y="224"/>
                                </g>
                                <g></g>
                            </svg>
                            <figcaption class="flex-grow-1 mt-0">
                                <h2 
                                    class="fw-bold text-uppercase" 
                                    style="font-size: 1.1rem;line-height: 1.25rem;" 
                                    id="pd_delegate_name"
                                >
                                </h2>
                                <p 
                                    class="text-uppercase mb-0" 
                                    style="font-size: 1rem;line-height: 1.25rem;" 
                                    id="pd_assignment"
                                >
                                </p>
                                <p 
                                    class="text-uppercase mb-0" 
                                    style="font-size: 1rem;line-height: 1.25rem;" 
                                    id="pd_job-title"
                                >
                                </p>
                            </figcaption>
                        </figure>
                    </section>
                    <div class="hstack gap-2 justify-content-center">
                        <a href="javascript:void(0);" class="btn btn-link link-danger fw-medium" data-bs-dismiss="modal"><i class="ri-close-line me-1 align-middle"></i> Close</a>
                        <a href="javascript:void(0);" class="btn btn-success" id="print-badge-button">Print Badge</a>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>


<script>
    // Changing badge image based on department
    const selectBadgeTemplateElement = document.querySelector('#select-badge-template')
    selectBadgeTemplateElement.addEventListener('change', (e) => {
        const badgeImageTemplate = document.querySelector('.badge-image')
        badgeImageTemplate.src = `/uploads/badges${e.target.value}`
        sessionStorage.setItem('badge_template', `/uploads/badges${e.target.value}`)
    })

    // Populating badge template select
    async function populateBadgeTemplateSelect(selectBadgeTemplateElement) {
        const response = await fetch('/api/dashboard/fetch_data/get_badge_template_images.php')
        const options = await response.json()

        Object.entries(options).forEach(option => {
            const optionElement = document.createElement('option')
            optionElement.value = option[1]
            optionElement.innerHTML = option[0]

            // Setting the initial badge template 
            console.log(option[0]);
            if (option[0] === sessionStorage.getItem('assignment')) {
                optionElement.selected = true
                const badgeImageTemplate = document.querySelector('.badge-image')
                badgeImageTemplate.src = `/uploads/badges${option[1]}`
                sessionStorage.setItem('badge_template', `/uploads/badges${option[1]}`)
            }
            selectBadgeTemplateElement.appendChild(optionElement)
        })
    }

    populateBadgeTemplateSelect(selectBadgeTemplateElement)

    // On click going to the print badge page
    const printBadgeButton = document.querySelector('#print-badge-button')
    printBadgeButton.addEventListener('click', async function() {
        const formData = new FormData()
        formData.set('id', sessionStorage.getItem('id'))

        const response = await fetch(
            '/api/dashboard/update/update_registrant_print_status.php',
            {
                method: 'POST',
                body: formData
            }
        )

        const data = await response.json()

        window.open('/pages/print-badge.php?' + encodeURI((data['error'] ? 'error' : 'message' + '=' + data['message'])), '_blank')
    })
</script>